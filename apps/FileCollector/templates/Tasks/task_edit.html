{% extends 'Formikaro/base_site.html' %}
{% load custom_tags %}
{% load static %}
{% load humanize %}

{% block style_css %}
<style>

        .del-asset:hover{
            color: #FF0000;
            cursor: pointer;
        }
    </style>
{% endblock %}
{% block content %}
<!-- start page content-->
<header class="page-header page-header-light bg-white bg-shadow pb-10">
    <div class="container">
        <div class="page-header-content pt-4">
            <div class="row align-items-center justify-content-between">
                <div class="col-auto mt-4">
                    <h1 class="page-header-title">
                        <div class="page-header-icon"><i data-feather="list"></i></div>
                        Modify a task
                    </h1>
                    <div class="page-header-subtitle">Here you can modify a task manually</div>
                </div>
            </div>
        </div>
    </div>
</header>

<div class="container mt-n10">

    <div class="container mt-n10 mb-3">
        <div class="row">
            <div class="col-sm-8">
                {% include "Tasks/add_task_template.html" with edit_mode=True task=task project_list=project_list preset_tasks=preset_tasks project=project task_types=task_types %}
            </div>
            <div class="col-sm-4">
            <div class="card">
                <div class="card-body text-xs">
                    <h5 class="card-title">Infos</h5>


                    <div class="text-sm mt-3 mb-2">Timing information:</div>
                            <div class="row">
                                <div class="col-3"><strong>Start time:</strong></div>
                                <div class="col-9">{{task.starttime}} ({{task.starttime|naturaltime}})</div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>Deadline:</strong></div>
                                <div class="col-9">{{task.deadline}} ({{task.deadline|naturaltime}})</div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>End time:</strong></div>
                                <div class="col-9"> {{task.endtime}} ({{task.endtime|naturaltime}})</div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>Runtime:</strong></div>
                                <div class="col-9">{{task.get_formated_runtime}} ({{task.runtime}})</div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>In time:</strong></div>
                                <div class="col-9"> -</div>
                            </div>


                    <div class="text-sm mt-3 mb-2">General information:</div>
                            <div class="row">
                                <div class="col-3"><strong>Name</strong></div>
                                <div class="col">{{task.name}}</div>
                            </div>

                            <div class="row">
                                <div class="col-3"><strong>Project</strong></div>
                                <div class="col">{% if project %} <a href="{% url 'FileCollector:project_dashboard' project.id %}" >{{project}}</a>
                                {% else %} -
                                {% endif %}</div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>Creator:</strong></div>
                                <div class="col"> {{task.creator}}  </div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>User:</strong></div>
                                <div class="col"> {{task.user}}  </div>
                            </div>
                                                <div class="row">
                                <div class="col-3"><strong>Description</strong></div>
                                <div class="col">{{task.description}}</div>
                            </div>

                      <div class="text-sm mt-3 mb-2">Tech information:</div>
                            <div class="row">
                                <div class="col-3"><strong>ID</strong></div>
                                <div class="col">{{task.id}}</div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>Status</strong></div>
                                <div class="col">{{task.get_status_display}}</div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>Mode:</strong></div>
                                <div class="col"> {{task.get_mode_display}}  </div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>Unit price:</strong></div>
                                <div class="col"> {{task.unitprice}}  </div>
                            </div>
                            <div class="row">
                                <div class="col-3"><strong>Priority</strong></div>
                                <div class="col"><div class="badge justify-content-center align-items-center {{ task.get_priority_val }} pl-3 pr-3 pt-1 pb-1">{{ task.priority }}</div></div>
                            </div>


<div class="mt-3 text-right">
                    <a href="{% url 'FileCollector:mytasks' %}" class="btn btn-primary">Go to my tasks</a>
</div>
                </div>
            </div>
        </div>

    </div>
    <div class="row">
    </div>
</div>
<!-- End page content -->
{% endblock %}
{% block javascript %}

{% endblock %}
